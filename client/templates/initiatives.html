<template name="newInitiative">
    <h2>Create New Initiative</h2>
    <form class="new-initiative">
        <p>Name</p><input type="text" name="name" placeholder="Name" size="35"><br><br>
        <p>Search Text</p> <input type="text" name="searchText" size="35"><br>
        This will be used to identify associated campaigns. <br>
        For example, if campaign name is "Ruffino 2016 Page Post #50", write "Ruffino 2016 Page Post" <br>
        This can be the same name as the initiative. <br><br><br>
        <p>Brand</p><select name="brand" id="brand-select">
            {{#each getBrands}}
                <option value="{{name}}">{{name}}</option>
            {{/each}}
        </select><br><br>
        <p>Agency</p><select name="agency" id="agency-select">
            <option value="Constellation">Constellation</option>
            <option value="Horizon">Horizon</option>
        </select>
        <p>Product Category</p>
        {{!-- TODO product category needs to be completed --}}
        <p>Deal type</p><select name="dealtype" id="dealtype-select">
            <option value="CPC">CPC</option>
            <option value="CPM">CPM</option>
            <option value="CPL">CPL</option>
            <option value="FACTOR">FACTOR</option>
        </select><br><br>
        <p>Quantity</p><input type="text" name="quantity" placeholder="IO Quantity"><br><br>
        <p>Price</p><input type="text" name="price" placeholder="IO Price"><br><br>
        <p>Budget(no commas - input format: 1000.00)</p>$<input id="new-init-budget" type="text" name="budget" placeholder="Budget"><br><br>
        <p>Start Date</p>
        <div class='col-sm-6'>
            <input type='text' name="startDate" class="form-control datetimepicker" />
        </div>
        <p>End Date</p>
        <div class='col-sm-6'>
            <input type='text' name="endDate" class="form-control datetimepicker" />
        </div>
        <p>Notes</p>
        <textarea name="notes" id="notes" cols="50" rows="5"></textarea>
        <br />
        <input type="submit" value="Submit">
    </form>
</template>

<template name="initiativeStats">
    {{!-- <h3>These are stats for the initiative</h3>
        {{#with getInitiativeStats }}
            <p>{{brand}} || {{agency}}</p>
            <p>Deal Type: {{dealType}}</p>
            <p>Budget: {{budget}} || Quantity: {{quantity}} || Price: {{price}}</p>
            <p>{{notes}}</p>
        {{/with}} --}}
</template>

<template name="initiatives">
    <h2>Initiatives</h2>
    {{#each getInitiatives}}
        <a href="/admin/initiatives/{{_id}}"><h4>{{name}}</h4></a>
        <p>Brand: {{brand}}</p>
        <p>Deal Type: {{dealType}}</p>
        <p>Budget: {{budget}}</p>
    {{/each}}

</template>

<template name="initiative">
    {{#with getInitiative}}
        <a href="/admin/initiatives/{{_id}}/aggregate"><h2>{{name}}</h2></a>
        <p>Brand: {{brand}}</p>
        <p>Agency: {{agency}}</p>
        <p>Deal Type: {{dealType}}</p>
        <p>Budget: {{budget}}</p>
        <p>Quantity: {{quantity}}</p>
        <p>Price: {{price}}</p>
        <p>Starts: {{startDate}}</p>
        <p>Ends: {{endDate}}</p>
        <p>Campaigns: {{campaign_names}}</p>
        <p>notes: {{notes}}</p>
        <button id="edit-initiative-button">Edit</button>
    {{/with}}
</template>

<template name="initiativeAggregate">
    <h2>Aggregate Stats for Initiative</h2>
    {{#with showAggregate}}
        {{#each showAggregate.aggregateData}}
            <h3>{{_id}}</h3>
            <br><br><br>
            <p>Clicks: {{clicks}}</p>
            <p>CPC: {{cpc}}</p>
            <p>CPM: {{cpm}}</p>
            <p>Reach: {{reach}}</p>
        {{/each}}
    <br><br>
        <p>Agency: {{agency}}</p>
        <p>Budget: {{budget}}</p>
        <p>Deal Type: {{dealType}}</p>
        <p>Price: {{price}}</p>
        <p>Quantity: {{quantity}}</p>
    {{/with}}
</template>

<template name="editInitiative">
    <h3>Edit Initiative</h3>
    <form id="edit-initiative-form">
        {{#with getInitiative}}
            <h4>Name: </h4><input type="text" name="name" value="{{name}}" size="40">
            <br><br>
            <p>Search Text: </p>
            <input type="text" name="search_text" value={{search_text}} size="40">
            <br><br>
            <p>Brand:</p>
            <input type="text" name="brand" value={{brand}}>
            <br><br>
            <p>Deal type</p>
            <select name="dealtype" id="dealtype-select">
                    <option value="CPC">CPC</option>
                    <option value="CPM">CPM</option>
                    <option value="CPL">CPL</option>
                    <option value="FACTOR">FACTOR</option>
                </select><br><br>
            <p>Agency</p>
            <select name="agency" id="agency-select">
                <option value="Constellation">Constellation</option>
                <option value="Horizon">Horizon</option>
            </select>
            <br><br>
            <p>Budget: </p> <input type="text" name="budget" value="{{budget}}">
            <p>Quantity: </p> <input type="text" name="quantity" value="{{quantity}}">
            <p>Price: </p> <input type="text" name="price" value="{{price}}">
            <p>Starts: </p> <input type="text" name="startDate" value="{{startDate}}">
            <p>Ends: </p> <input type="text" name="endDate" value="{{endDate}}">
            <p>notes: </p> <input type="text" name="notes" value="{{notes}}">
            <p>Campaigns:</p>
            {{#each getCampaigns.names}}
                <p>{{this}}</p>
            {{/each}}
            <a href="/admin/initiatives/{{_id}}/edit/campaigns">Edit Campaigns Associated with this Initiative</a>
            <br /><br />
            <input type="submit" value="Update Initiative">
        {{/with}}
    </form>
</template>

<template name="editInitiativeCampaigns">
    <h2>Edit Initiative Campaigns</h2>
    <form id="edit-initiative-campaigns">
        {{#each getInitiative}}
            Initiative Name: {{name}}
            <br>
            Campaigns: {{campaign_names}}
        {{/each}}
        <br><br><br>
        <h4>Campaigns Currently Associated</h4>
        {{#each getCampaigns}}
            <input type="checkbox" name="campaign" value={{this}} checked>{{this}} <br>
        {{/each}}
        <br>
        <h4>All Available Campaigns</h4>
        {{#each getAllCampaigns}}
            <input type="checkbox" name="allCampaigns" value={{this.data.campaign_name}}>{{this.data.campaign_name}} <br>
        {{/each}}
        <br>
        <input type="submit" value="Submit">
    </form>

</template>
