<template name="projections">
  {{#if isReady "Initiatives" "campaignInsightList"}}
  <div class="container">
    <div class="row">
      <h3 class="center-align">Projections</h3>
      <div class="input-field col s6">
        <select class="browser-default" id="projection-select">
          <option value="Lifetime" selected>Lifetime</option>
          <option value="1">Yesterday</option>
          <option value="3">Last 3 Days</option>
          <option value="7">Last 7 Days</option>
          <option value="14">Last 14 Days</option>
          <option value="30">Last 30 Days</option>
        </select>
        <label class="active">Use Values From</label>
      </div>
      <div class="col s6">
        <p class="projection-buttons" style="margin-top: 2%;"><button id="project-up" class="waves-effect waves-light btn">+</button> Days: {{getSessionDay}} <button id="project-down" class="waves-effect waves-light btn">-</button> </p>
      </div>
    </div>
    <div class="row">
      <div class="col s3">
        <table>
          <tr>
            <th>Daily Clicks</th>
            <td>{{averages.avgClicks}}</td>
          </tr>
          <tr>
            <th>Daily Impressions</th>
            <td>{{averages.avgImpressions}}</td>
          </tr>
          <tr>
            <th>Daily Likes</th>
            <td>{{averages.avgLikes}}</td>
          </tr>
          <tr>
            <th>Daily Spend</th>
            <td>{{averages.avgSpend}}</td>
          </tr>
        </table>
      </div>
      {{#with dataProjection}}
      <div class="col s3">
        <table>
          <tr>
            <th>Projected Clicks</th>
            <td>{{clicks}}</td>
          </tr>
          <tr>
            <th>Projected Impressions</th>
            <td>{{impressions}}</td>
          </tr>
          <tr>
            <th>Projected Likes</th>
            <td>{{likes}}</td>
          </tr>
          <tr>
            <th>Projected Spend</th>
            <td>{{spend}}</td>
          </tr>
        </table>
      </div>
      <div class="col s3">
        <table>
          <tr>
            <th>Projected CPC</th>
            <td>{{cpc}}</td>
          </tr>
          <tr>
            <th>Projected CPM</th>
            <td>{{cpm}}</td>
          </tr>
          <tr>
            <th>Projected CPL</th>
            <td>{{cpl}}</td>
          </tr>
          <tr>
            <th>Projected Spend %</th>
            <td>{{spendPercent}}</td>
          </tr>
        </table>
      </div>
      {{/with}}
    </div>
    {{!-- {{#if insightPresent}} --}}
      <div class="row">
        <h5 class="center-align">Factor Projection Calculator</h5>
        <div class="col s1">
          <input type="text" id="factor-projection-percent" value={{lineItem.lineItem.percentTotalPercent}}>
          <label for="factor-projection-percent">Current Factor</label>
        </div>
        <div class="col s1">
          <input type="text" id="factor-projection-days-left" value={{lineItem.daysLeft}} disabled>
          <label for="factor-projection-days-left">Days Left</label>
        </div>
        <div class="col s1">
          <input type="text" id="factor-projection-budget" value={{money lineItem.lineItem.budget}}>
          <label for="factor-projection-budget">Budget</label>
        </div>
        <div class="col s2">
          <input type="text" id="factor-projection-delivery" value={{num projectedDelivery}}>
          <label for="factor-projection-delivery">Projected Delivery</label>
        </div>
        <div class="col s2">
          <input type="text" id="factor-projection-delivery" value={{money effectiveCostPer}}>
          <label for="factor-projection-delivery">Effective Cost Per</label>
        </div>
        <div class="col s2">
          <input type="text" id="factor-projection-nf" value={{newFactor}}>
          <label for="factor-projection-nf">Suggested Factor</label>
        </div>
        <div class="col s2">
          <h5>Projected Client Spend: {{money projectFactorSpend}}</h5>
        </div>
      </div>
      <div class="row">
        <h5 class="center-align">Calculate Factor to Match Budget</h5>

        <div class="col s3">
          <select name="calc-factor-select" id="calc-factor-select" class="browser-default">
            <option value="" selected disabled>Choose Deal Type</option>
            <option value="impressions">Impressions</option>
            <option value="clicks">Clicks</option>
            <option value="likes">Likes</option>
            <option value="video_view">Video View</option>
          </select>
          <label for="calc-factor-select">Select Deal Type</label>
        </div>

        <div class="col s2">
          <input type="text" id="calc-factor-metric" value="{{twoDec getStatCostPer}}">
          <label for="calc-factor-metric">Input actual CPM/CPC/etc..</label>
        </div>

        <div class="col s2">
          <input type="text" id="calc-factor-amount" value="{{getStat}}">
          <label for="calc-factor-amount">Input Impressions/Clicks/etc..</label>
        </div>

        <div class="col s1">
          <input type="text" id="calc-factor-budget">
          <label for="calc-factor-budget">Input Budget</label>
        </div>

        <div class="col s2">
          <input type="text" id="calc-factor-type" value="{{getType}}">
          <label for="calc-factor-type">Type - 'impressions', 'clicks' or 'video view'</label>
        </div>

        <div class="col s2">
          <button id="factor-calc-button">Run</button>
        </div>

        {{!-- <div class="col s2">
          <h5>Projected Client Spend: {{money projectFactorSpend}}</h5>
        </div> --}}



      </div>
    {{!-- {{else}}
      <p>No data available, so Factor Calculator cannot run.</p>
    {{/if}} --}}
  </div>

  {{else}}
    <p>Loading..</p>
  {{/if}}
</template>
