<template name="report">
  {{!-- <div class="container"> --}}
    <div class="row">
      <div class="col s12">
         <h5 class="center-align">Report for {{campaignName}}</h5>
      </div>
    </div>
    {{#if isReady "Initiatives" "campaignInsightList"}}
      {{#if reportReady}}
      <div class="row">
        <div class="col s12">
          <p class="center-align">Select Date Range and Metrics</p>
          <p class="center-align">1. Select a date or date range. If dates are left blank, default setting is campaign lifetime.</p>
          <p class="center-align">2. Choose a Line Item</p>
          <p class="center-align">3. Check 'Day by Day' box for a breakdown by day or leave unchecked for overview report</p>
        </div>
        <div class="col s2">
          <label for="">Start Date</label>
          <input type="date" class="datepicker" placeholder="Start Date" id="report-start-date">
        </div>
        <div class="col s2">
          <label for="">End Date</label>
          <input type="date" class="datepicker" placeholder="End Date" id="report-end-date">
        </div>
        <div class="col s3" style="margin-top: 1em;">
          <select name="reportLineItemSelect" id="report-line-item-select" class="browser-default">
            <option value="" disabled selected>Choose Line Item</option>
            {{#each line in initiativeLineItems}}
              <option value="{{line.name}}">{{line.name}}: {{line.platform}} - {{line.dealType}}</option>
            {{/each}}
          </select>
        </div>
        <div class="col s2 center-align" style="margin-top: 1em;">
          <p><input type="checkbox" id="daily" /><label for="daily">Day by Day</label></p>
        </div>
        <div class="col s3 center-align" style="margin-top: 1em;">
          <button class="btn waves-effect waves-light" id="report-button">
            Create Report
          </button>
        </div>
      </div>
      <div class="row">
        <div class="col s12">
          <h5 class="center-align" style="margin: 1em 0 1em 0;">Performance</h5>
        </div>
        <div class="performance">
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="reach" /><label for="reach">Reach</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="frequency" /><label for="frequency">Frequency</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="impressions" checked="checked" disabled="disabled"/><label for="impressions">Impressions</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="total_actions" /><label for="total_actions">Actions</label></p>
          </div>
          {{!-- <div class="col s6 m4 l3">
            <p><input type="checkbox" id="cpm" /><label for="cpm">CPM</label></p>
          </div> --}}
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="spend" checked="checked" disabled="disabled"/><label for="spend">Spend</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="ctr" /><label for="ctr">Click Through Rate</label></p>
          </div>
        </div>
        <div class="col s12">
          <h5 class="center-align" style="margin: 1em 0 1em 0;">Actions</h5>
        </div>
        <div class="actions">
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="clicks" checked="checked" disabled="disabled"/><label for="clicks">Clicks</label></p>
          </div>
          {{!-- <div class="col s6 m4 l3">
            <p><input type="checkbox" id="page_like" /><label for="page_like">Page Likes</label></p>
          </div> --}}
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="post_like" /><label for="post_like">Post Likes</label></p>
          </div>
          {{!-- <div class="col s6 m4 l3">
            <p><input type="checkbox" id="like" /><label for="like">Likes</label></p>
          </div> --}}
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="page_engagement" /><label for="page_engagement">Page Engagement</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="post_engagement" /><label for="post_engagement">Post Engagement</label></p>
          </div>
          {{!-- <div class="col s6 m4 l3">
            <p><input type="checkbox" id="post_comment" /><label for="post_comment">Post Comments</label></p>
          </div> --}}
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="comment" /><label for="comment">Comments</label></p>
          </div>
          {{!-- <div class="col s6 m4 l3">
            <p><input type="checkbox" id="post_share" /><label for="post_share">Post Shares</label></p>
          </div> --}}
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="photo_view" /><label for="photo_view">Photo Views</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="link_click" /><label for="link_click">Link Clicks</label></p>
          </div>
          {{!-- <div class="col s6 m4 l3">
            <p><input type="checkbox" id="post_shares" /><label for="post_shares">Post Shares</label></p>
          </div> --}}
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="website_clicks" /><label for="website_clicks">Website Clicks</label></p>
          </div>
          {{!-- <div class="col s12">
            <h5 class="center-align" style="margin: 1em 0 1em 0;">Engagement: Cost per (cp) Action</h5>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="cpc" /><label for="cpc">cp Click</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="cost_per_page_like" /><label for="cost_per_page_like">cp Page Like</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="cost_per_page_engagement" /><label for="cost_per_page_engagement">cp Page Engagement</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="cost_per_post_engagement" /><label for="cost_per_post_engagement">cp Post Engagement</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="cost_per_post_like" /><label for="cost_per_post_like">cp Post Like</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="cost_per_post_comment" /><label for="cost_per_post_comment">cp Post Comment</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="cost_per_comment" /><label for="cost_per_comment">cp Comment</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="cost_per_post_share" /><label for="cost_per_post_share">cp Post Share</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="cost_per_photo_view" /><label for="cost_per_photo_view">cp Photo View</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="cost_per_total_action" /><label for="cost_per_total_action">cp Action</label></p>
          </div> --}}
          <div class="col s12">
            <h5 class="center-align" style="margin: 1em 0 1em 0;">Conversions</h5>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="offsite_conversion" /><label for="offsite_conversion">Offsite Conversions</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="cost_per_conversion" /><label for="cost_per_conversion">cp Conversion</label></p>
          </div>
          <div class="col s12">
            <h5 class="center-align" style="margin: 1em 0 1em 0;">Videos</h5>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="video_play" /><label for="video_play">Video Plays</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="video_view" /><label for="video_view">Video Views</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="video_10_sec_watched_actions" /><label for="video_10_sec_watched_actions">10 Second Video Views</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="video_30_sec_watched_actions" /><label for="video_30_sec_watched_actions">30 Second Video Views</label></p>
          </div>
          <div class="col s6 m4 l3">
            <p><input type="checkbox" id="video_avg_pct_watched_actions" /><label for="video_avg_pct_watched_actions">Avg % of Video Viewed</label></p>
          </div>
        </div>
      </div>
      {{!-- ^ end of row --}}
      {{/if}}
      {{!-- beginning of report statistics --}}
      {{#if showReport}}
        {{#if daily}}
          <h2>Daily Results</h2>
          <table class="bordered highlight centered">
            <thead>
              <tr>
                <th style="padding-bottom: 8px; font-size: 16px;">Date</th>
                <th style="padding-bottom: 8px; font-size: 16px;">Spend</th>
                <th style="padding-bottom: 8px; font-size: 16px;">Impressions</th>
                {{{headerTest "Clicks"}}}
                {{{headerTest "Page Engagement"}}}
                {{{headerTest "Post Engagement"}}}
                {{{headerTest "Total Actions"}}}
                {{{headerTest "Link Click"}}}
                {{{headerTest "Website Clicks"}}}
                {{!-- {{{headerTest "Like"}}} --}}
                {{{headerTest "Reach"}}}
                {{{headerTest "Frequency"}}}
                {{{headerTest "CTR"}}}
                {{{headerTest "Post Like"}}}
                {{{headerTest "Comment"}}}
                {{{headerTest "Photo View"}}}
                {{!-- {{{headerTest "Page Like"}}} --}}
                {{{headerTest "Video View"}}}
                {{{headerTest "Video 10 Sec Watched Actions"}}}
                {{{headerTest "Video 30 Sec Watched Actions"}}}
                {{{headerTest "Video Avg Pct Watched Actions"}}}
                {{{headerTest "Video Play"}}}
                {{!-- {{{headerTest "cost_per_video_view"}}} --}}
                {{!-- <th style="padding-bottom: 8px; font-size: 16px;">CPVV</th>
                <th style="padding-bottom: 8px; font-size: 16px;" title="Frequency">Freq</th>
                <th style="padding-bottom: 8px; font-size: 16px;" title="Click Through Rate">CTR</th> --}}
                {{!-- <th style="padding-bottom: 8px; font-size: 16px;">Actions</th> --}}

              </tr>
            </thead>
            <tbody>
              {{#each day in handleData}}
                <tr>
                  <td style="padding-top: 8px; padding-bottom: 8px; font-size: 12px;">{{day.date_start}}</td>
                  <td style="padding-top: 8px; padding-bottom: 8px; font-size: 12px;">{{day.spend}}</td>
                  <td style="padding-top: 8px; padding-bottom: 8px; font-size: 12px;">{{day.impressions}}</td>
                  {{{dataTest "Clicks" day.date_start}}}
                  {{{dataTest "Page Engagement" day.date_start}}}
                  {{{dataTest "Post Engagement" day.date_start}}}
                  {{{dataTest "Total Actions" day.date_start}}}
                  {{{dataTest "Link Click" day.date_start}}}
                  {{{dataTest "Website Clicks" day.date_start}}}
                  {{!-- {{{dataTest "Like" day.date_start}}} --}}
                  {{{dataTest "Reach" day.date_start}}}
                  {{{dataTest "Frequency" day.date_start}}}
                  {{{dataTest "ctr" day.date_start}}}
                  {{{dataTest "Post Like" day.date_start}}}
                  {{{dataTest "Comment" day.date_start}}}
                  {{{dataTest "Photo View" day.date_start}}}
                  {{!-- {{{dataTest "Page Like" day.date_start}}} --}}
                  {{{dataTest "Video View" day.date_start}}}
                  {{{dataTest "Video 10 Sec Watched Actions" day.date_start}}}
                  {{{dataTest "Video 30 Sec Watched Actions" day.date_start}}}
                  {{{dataTest "Video Avg Pct Watched Actions" day.date_start}}}
                  {{{dataTest "Video Play" day.date_start}}}
                  {{!-- {{{dataTest "Cost Per Video View" day.date_start}}} --}}
                  {{!-- <td style="padding-top: 8px; padding-bottom: 8px; font-size: 12px;">{{day.cost_per_video_view}}</td> --}}
                  {{!-- <td style="padding-top: 8px; padding-bottom: 8px; font-size: 12px;">{{shorten day.frequency}}</td>
                  <td style="padding-top: 8px; padding-bottom: 8px; font-size: 12px;">{{shorten day.ctr}}</td> --}}
                </tr>
              {{/each}}
            </tbody>
          </table>
          <div class="row">
            <div class="col s12 center-align">
              <button class="btn waves-effect waves-light" id="report-reset-button">
                Reset
              </button>
            </div>
          </div>
        {{else}}
          <table class="bordered highlight">
            <thead>
              <tr>
                <th style="padding-bottom: 12px; font-size: 20px;">Metric</th>
                <th style="padding-bottom: 12px; font-size: 20px;">Amount</th>
              </tr>
            </thead>
            <tbody>
              {{#each data in handleData}}
                <tr>
                  <td style="padding-top: 12px; padding-bottom: 12px; font-size: 16px;">{{formatString data.name}}</td>
                  <td style="padding-top: 12px; padding-bottom: 12px; font-size: 16px;">{{data.amount}}</td>
                </tr>
              {{/each}}
            </tbody>
          </table>
          <div class="row">
            <div class="col s12 center-align">
              <button class="btn waves-effect waves-light" id="report-reset-button">
                Reset
              </button>
            </div>
          </div>
        {{/if}}
      {{/if}}


    {{else}}
        <p>Loading...</p>
    {{/if}}
  {{!-- </div> --}}
  {{!-- ^ end of container --}}

</template>
