
<template name="editUser">
  <div class="row">
    <h4 class="center-align">Make Changes To User Profile</h4>
    <form class="edit-user-form">
      <div class="row">
        <div class="col s12">
          <h4>Last Update To This User: {{populateFields.updatedOn}}</h4>
        </div>
      </div>
      <div class="input-field col s4">
        <input type="text" id="first_name" class="validate" name="firstName" value="{{populateFields.firstName}}">
        <label for="first_name" class="active">First Name</label>
      </div>
      <div class="input-field col s4">
        <input type="text" id="last_name" class="validate" name="lastName" value="{{populateFields.lastName}}">
        <label for="last_name" class="active">Last Name</label>
      </div>
      <div class="input-field col s4">
          <input type="text" id="username" class="validate" name="username" value="{{populateFields.username}}">
          <label for="username" class="active">Username</label>
        </div>
      <div class="input-field col s6">
        <input type="email" id="email" class="validate" value="{{populateFields.email}}" name="email">
        <label for="email" class="active">Email</label>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <p>
            <input type="checkbox" id="admin" name="admin" checked="{{isAdminChecked}}" />
            <label for="admin">Admin Permissions? | Admins Have Access To Everything</label>
          </p>
        </div>
      </div>

      <div class="col s12">
        <blockquote>
          You can choose one or multiple initiatives or one or multiple agencies. You cannot select both initiatives <em>and</em> agencies.<br>
          This represents which initiatives the user will be able to view.
        </blockquote>
      </div>

      <div class="input-field col s6">
        <select multiple name="agency" id="createUser-agency-select" class="browser-default">
          <option value="Citizens" {{agencySelected "Citizens"}}>Citizens</option>
          <option value="Constellation" {{agencySelected "Constellation"}}>Constellation</option>
          <option value="Cornerstone" {{agencySelected "Cornerstone"}}>Cornerstone</option>
          <option value="CUE" {{agencySelected "CUE"}}>CUE</option>
          <option value="Farm Rich" {{agencySelected "Farm Rich"}}>Farm Rich</option>
          <option value="Hadeler Krueger" {{agencySelected "Hadeler Krueger"}}>Hadeler Krueger</option>
          <option value="High Wide & Handsome" {{agencySelected "High Wide & Handsome"}}>High Wide & Handsome</option>
          <option value="Hitachi" {{agencySelected "Hitachi"}}>Hitachi</option>
          <option value="Horizon" {{agencySelected "Horizon"}}>Horizon</option>
          <option value="Icon" {{agencySelected "Icon"}}>Icon</option>
          {{!-- <option value="Media Kitchen" {{agencySelected "Media Kitchen"}}>Media Kitchen</option> --}}
          <option value="Mundy" {{agencySelected "Mundy"}}>Mundy</option>
          <option value="Power Creative" {{agencySelected "Power Creative"}}>Power Creative</option>
          <option value="Rachael Piper" {{agencySelected "Rachael Piper"}}>Rachel Piper</option>
          <option value="SapientNitro" {{agencySelected "SapientNitro"}}>SapientNitro</option>
          <option value="True Media" {{agencySelected "True Media"}}>True Media</option>
          <option value="Uniworld" {{agencySelected "Uniworld"}}>Uniworld</option>
          {{#each getAgencies}}
            <option value="{{name}}" {{agencySelected name}}>{{name}}</option>
          {{/each}}
        </select>
        <label class="active">Agency</label>
      </div>

      <div class="input-field col s6">
        <select multiple name="initiatives" id="createUser-initiative-select" class="browser-default">
          {{#each getInits}}
            <option value="{{name}}" {{initiativeSelected name}}>{{name}}</option>
          {{/each}}
        </select>
        <label class="active">Initiatives</label>
      </div>
      <div class="col s12">
        <button class="btn waves-effect waves-light" type="submit">
          Update User
        </button>
      </div>
    </form>
  </div>
</template>




<template name="createUser">
  <div class="row">
    <h4 class="center-align">Create New User</h4>
    <form id="create-user-form" class="col s12">
      <div class="row">

        {{!-- <div class="input-field col s4">
          <input type="text" id="first_name" class="validate" name="first-name">
          <label for="first_name">First Name</label>
        </div>
        <div class="input-field col s4">
          <input type="text" id="last_name" class="validate" name="last-name">
          <label for="last_name">Last Name</label>
        </div> --}}
        <div class="input-field col s4">
          <input type="text" id="username" class="validate" name="username">
          <label for="username">Username</label>
        </div>

        <div class="input-field col s4">
          <input type="email" id="email" class="validate" name="email">
          <label for="email">Email</label>
        </div>
        <div class="input-field col s4">
          <input type="password" id="password" class="validate" name="password">
          <label for="password">Password</label>
        </div>
        {{!-- <div class="col s12">
          <p>
            <input type="checkbox" id="adminCheckbox" name="adminCheckbox">
            <label for="adminCheckbox">Admin?</label>
          </p>
        </div>

        <div class="col s12">
          <blockquote>
            You can choose one or multiple initiatives instead of an agency. <br>
            This is what the user will be able to see. You cannot select both.
          </blockquote>
        </div>

        <div class="input-field col s6">
          <select multiple name="agency" id="createUser-agency-select" class="browser-default">
            <option value="Citizens">Citizens</option>
            <option value="Constellation">Constellation</option>
            <option value="Cornerstone">Cornerstone</option>
            <option value="CUE">CUE</option>
            <option value="Farm Rich" >Farm Rich</option>
            <option value="Hadeler Krueger">Hadeler Krueger</option>
            <option value="High Wide & Handsome">High Wide & Handsome</option>
            <option value="Hitachi">Hitachi</option>
            <option value="Horizon">Horizon</option>
            <option value="Icon">Icon</option>
            <option value="Mundy">Mundy</option>
            <option value="Power Creative">Power Creative</option>
            <option value="Rachael Piper">Rachel Piper</option>
            <option value="SapientNitro">SapientNitro</option>
            <option value="True Media">True Media</option>
            <option value="Uniworld">Uniworld</option>
          </select>
          <label class="active">Agency</label>
        </div>

        <div class="input-field col s6">
          <select multiple name="initiatives" id="createUser-initiative-select" class="browser-default">
            {{#each getInits}}
              <option value="{{name}}">{{name}}</option>
            {{/each}}
          </select>
          <label class="active">Initiatives</label>
        </div> --}}
      </div>
      <div class="col s12 center-align">
        <button class="btn waves-effect waves-light" type="submit" name="action">
          Create User
        </button>
      </div>
      {{!-- <blockquote>
        Creating a new user will log you out and log you in as the new user.
      </blockquote> --}}
    </form>
  </div>
</template>




<template name="allUsers">
  <div class="user-wrapper">
    <h4 class="center-align">Users</h4>
    <div class="row">
      <table class="highlight">
        <thead>
          <th>Email</th>
          <th>Username</th>
          <th>Name</th>
          <th>Admin</th>
          <th>Agency</th>
          <th>Last Login</th>
          <th>Actions</th>
        </thead>
        <tbody>
          {{#each fetchUsers}}
            <tr>
              <td>{{email}}</td>
              <td>{{username}}</td>
              <td>{{firstName}} {{lastName}}</td>
              <td>{{admin}}</td>
              <td style="width: 500px;">{{agency}}</td>
              <td>{{date lastLogin}}</td>
              <td><a href="/admin/users/{{_id}}/edit">Edit</a> | <a href="#" class="delete-user">Delete</a></td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </div>
  </div>
</template>


