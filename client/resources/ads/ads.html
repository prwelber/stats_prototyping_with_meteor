<template name="ads">
  <div class="col s10">
      <h2 class="center-align">Ads Insights and Ads Creative</h2>
    <div class="col s12 center-align">
      <button id="refresh-ads" class="btn-large waves-effect waves-light tooltipped" name="action" data-position="bottom" data-tooltip="Refresh Ads Data" data-id="{{getCampaignNumber}}">
        <h4>REFRESH ADS</h4>
      </button>
    </div>
    <div class="divider" style="margin: 1em 0 1em 0;"></div>
  </div>
  {{#if isReady "AdsList"}}
    {{#each getAds}}
    <div class="container">
      <div class="col s12">

        <h3>{{data.name}}</h3>
        <p>Ad runtime: {{data.date_start}} -- {{data.date_stop}}</p>
        <p>Data Updated: {{data.inserted}}</p>
        {{#if data.carouselData}}
          <h4>Carousel Creative</h4>
          {{#each data.carouselData}}
            <p>Title: {{name}}</p>
            <p>Copy: {{description}}</p>
            <p>Link Clicks: {{link_click}} | CTR: {{link_ctr}}</p>
            <p><a target="blank" href="{{picture}}">Image Source</a></p>
            <p><a target="blank" href="{{link}}">URL</a></p>
          {{/each}}
        {{else}}
          <ul class="collection with-header">
            <li class="collection-header"><h4>Creative</h4></li>
            <li class="collection-item">Title: {{data.title}}</li>
            {{#if data.description}}
              <li class="collection-item">Copy: {{data.description}}</li>
              <li class="collection-item">Message: {{data.message}}</li>
            {{else}}
            <li class="collection-item">Message: {{data.message}}</li>
            {{/if}}
            {{#if data.picture}}
              <li class="collection-item"><a target="_blank" href="{{data.picture}}">Media Link (opens new tab)</a></li>
              <li class="collection-item"><a target="_blank" href="{{data.url}}">Facebook Ad Link (opens new tab)</a></li>
            {{/if}}
          </ul>
          {{/if}}



          {{!-- <h4>Creative</h4>
          <p>Title: {{data.title}}</p>
          {{#if data.description}}
            <p>Copy: {{data.description}}</p>
            <p>Message: {{data.message}}</p>
          {{else}}
            <p>Message: {{data.message}}</p>
          {{/if}}
          {{#if data.picture}}<p><a target="_blank" href="{{data.picture}}">Media Link (opens new tab)</a></p>{{/if}}
          <p><a target="_blank" href="{{data.url}}">Facebook Ad Link (opens new tab)</a></p>
        {{/if}}  --}}


        <h4>Spend: {{money data.spend}}</h4>
        <h5>Objective: {{data.objective}}</h5>

        <table class="striped centered">
          <thead>
            <tr>
              <th>Clicks</th>
              <th>CPC</th>
              <th>Impressions</th>
              <th>CPM</th>
              <th>Likes</th>
              <th>CPL</th>
              <th>Reach</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{number data.clicks}}</td>
              <td>{{money data.cpc}}</td>
              <td>{{number data.impressions}}</td>
              <td>{{money data.cpm}}</td>
              <td>{{number data.post_like}}</td>
              <td>{{money data.cost_per_post_like}}</td>
              <td>{{number data.reach}}</td>
            </tr>
          </tbody>
          <thead>
            <tr>
              <th>Link Click</th>
              <th>CP Link Click</th>
              <th>CP Page Eng</th>
              <th>CP Post Eng</th>
              <th>Website Click</th>
              <th>CP Website Click</th>
              <th>CTR</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{data.link_click}}</td>
              <td>{{money data.cost_per_link_click}}</td>
              <td>{{money data.cost_per_page_engagement}}</td>
              <td>{{money data.cost_per_post_engagement}}</td>
              <td>{{number data.website_clicks}}</td>
              <td>{{money data.cost_per_website_clicks}}</td>
              <td>{{data.ctr}}</td>
            </tr>
          </tbody>
          <thead>
            <tr>
              <th>Video Views</th>
              <th>CP Video Views</th>
              <th>CP Video Play</th>
              <th>Total Actions</th>
              <th>CP Total Action</th>
              <th>Offsite Conv</th>
              <th>CP Offsite Conv</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>{{number data.video_view}}</td>
              <td>{{money data.cost_per_video_view}}</td>
              <td>{{money data.cost_per_video_play}}</td>
              <td>{{number data.total_actions}}</td>
              <td>{{money data.cost_per_total_actions}}</td>
              <td>{{data.offsite_conversion}}</td>
              <td>{{money data.cost_per_offsite_conversion}}</td>
            </tr>
          </tbody>
        </table>

      </div>
    </div>
    {{/each}}
  {{else}}
    <p>Loading....</p>
  {{/if}}
</template>
